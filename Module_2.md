# –ú–æ–¥—É–ª—å 2: –°–∏—Å—Ç–µ–º–Ω–æ–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ (1.5 —á–∞—Å–∞)

## üìã –ó–∞–¥–∞–Ω–∏–µ 1: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–æ–º–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä Samba –Ω–∞ –º–∞—à–∏–Ω–µ BR-SRV.

**–ó–∞–¥–∞–Ω–∏–µ 1**:
- –°–æ–∑–¥–∞–π—Ç–µ 5 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –æ—Ñ–∏—Å–∞ HQ: –∏–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Ñ–æ—Ä–º–∞—Ç–∞ user‚Ññ.hq. –°–æ–∑–¥–∞–π—Ç–µ –≥—Ä—É–ø–ø—É hq, –≤–≤–µ–¥–∏—Ç–µ –≤ —ç—Ç—É –≥—Ä—É–ø–ø—É —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –í–≤–µ–¥–∏—Ç–µ –≤ –¥–æ–º–µ–Ω –º–∞—à–∏–Ω—É HQ-CLI
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≥—Ä—É–ø–ø—ã hq –∏–º–µ—é—Ç –ø—Ä–∞–≤–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º –ü–ö
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≥—Ä—É–ø–ø—ã hq –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–≤—ã—à–∞—Ç—å –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –∫–æ–º–∞–Ω–¥: cat, grep, id. –ó–∞–ø—É—Å–∫–∞—Ç—å –¥—Ä—É–≥–∏–µ –∫–æ–º–∞–Ω–¥—ã —Å –ø–æ–≤—ã—à–µ–Ω–Ω—ã–º–∏ –ø—Ä–∏–≤–∏–ª–µ–≥–∏—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≥—Ä—É–ø–ø—ã –Ω–µ –∏–º–µ—é—Ç –ø—Ä–∞–≤–∞
- –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∏–º–ø–æ—Ä—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ —Ñ–∞–π–ª–∞ users.csv. –§–∞–π–ª –±—É–¥–µ—Ç —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å—Å—è –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ BR-SRV –≤ –ø–∞–ø–∫–µ /opt

> **–í–∞–∂–Ω–æ**: –î–ª—è –∏–º–ø–æ—Ä—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ users.csv –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç, –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ —è –Ω–µ –Ω–∞—à–µ–ª —Å–∫—Ä–∏–ø—Ç–æ–≤ –∫–æ—Ç–æ—Ä—ã–µ –±—ã –ø–µ—Ä–µ–Ω–æ—Å–∏–ª–∏ –≤—Å–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–ª–∞–≥–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫–æ—Ç–æ—Ä—ã–µ —É–∫–∞–∑–∞–Ω—ã –≤ /opt/users.csv, –ø–æ—ç—Ç–æ–º—É —è –Ω–∞–ø–∏—Å–∞–ª —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç, –µ–≥–æ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ [—Ç—É—Ç](https://github.com/meowehh/samba-import).

### BR-SRV
```bash
apt-get update && apt-get install -y task-samba-dc alterator-fbi alterator-net-domain admx-* admc gpui
```
```bash
vim /etc/sysconfig/network
HOSTNAME=br-srv.au-team.irpo
```
```bash
reboot
```
```bash
systemctl enable --now ahttpd alteratord
rm -rf /etc/samba/smb.conf /var/{lib.cache}/samba
mkdir -p /var/lib/samba/sysvol
```
```bash
rm -rf /etc/net/ifaces/ens18/resolv.conf
systemctl restart network
vim /etc/resolvconf.conf
name_servers=127.0.0.1
name_servers=192.168.1.10
resolvconf -u
systemctl restart network
```
```bash
samba-tool domain provision --realm=au-team.irpo --domain=au-team --adminpass='P@ssw0rd' --dns-backend=BIND9_DLZ --server-role=dc --use-rfc2307 
```

### HQ-CLI
```bash
apt-get update && apt-get install -y admx-* admc gpui sudo gpupdate
```
**–ó–∞—Ö–æ–¥–∏–º —á–µ—Ä–µ–∑ –≤–∫–ª–∞–¥–∫—É Console –≤–Ω—É—Ç—Ä–∏ Proxmox VE, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π —á–∞—Å—Ç–∏.**
```
login: user
password: resu
```
**–û—Ç–∫—Ä—ã–≤–∞–µ–º Firefox:** 
- –ü–µ—Ä–µ—Ö–æ–¥–∏–º –ø–æ –∞–¥—Ä–µ—Å—É 192.168.3.10:8080
- –î–∞–Ω–Ω—ã–µ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:
```bash
login: root
password: toor
```
- Configuration > Expert mode > Apply
- Web Interface
- –ú–µ–Ω—è–µ–º –ø–æ—Ä—Ç 8080 –Ω–∞ 8081 > Apply > Restart http server
- –ü–µ—Ä–µ—Ö–æ–¥–∏–º –ø–æ –∞–¥—Ä–µ—Å—É 192.168.3.10:8081
- –í–∫–ª–∞–¥–∫–∞ Domain
- –í—ã–±–∏—Ä–∞–µ–º Active Directory Domain Controller
- DNS Forwards - 192.168.1.10
- Domain - au-team.irpo
- Password - P@ssw0rd
- Apply
- –ó–∞–ø—É—Å–∫–∞–µ–º –∏ –¥–æ–∂–∏–¥–∞–µ–º—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏—è - OK.

### BR-SRV:
**–ü–µ—Ä–µ–ø—É—Å–∫–∞–µ–º —Å–∏—Å—Ç–µ–º—É –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º**:
```bash
ping ya.ru
ping br-srv.au-team.irpo
ping hq-rtr.au-team.irpo
```
> –ï—Å–ª–∏ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - —Ç–æ –û–ö!

### HQ-CLI:
**–ü–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä—è–µ–º 192.168.3.10:8081**
- –ó–∞—Ö–æ–¥–∏–º –≤ Domain
> –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å OK, —Ç–æ –∏–¥–µ–º –¥–∞–ª—å—à–µ.

**–û—Ç —Ä—É—Ç–∞ –≤—ã–ø–æ–ª–Ω—è–µ–º:**
```bash
nmcli con modify CLI-NET \
	ipv4.method auto \
	ipv4.ignore-auto-dns yes \
	ipv4.dns 192.168.3.10
```
```bash
nmcli con down CLI-NET
nmcli con up CLI-NET
```
**–û—Ç–∫—Ä—ã–≤–∞–µ–º —Å–Ω–æ–≤–∞ GUI –∏ –∑–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Ä–º–∏–Ω–∞–ª, —Ç–∞–º –ø—Ä–æ–ø–∏—Å—ã–≤–∞–µ–º**:
```bash
acc
```
- –ü–∞—Ä–æ–ª—å toor
- –í—ã–±—Ä–∞—Ç—å Auth –≤ Networking
- –ü—Ä–æ–ø–∏—Å–∞—Ç—å –≤ Domain - au-team.irpo
- –ü—Ä–æ–ø–∏—Å–∞—Ç—å –≤ Workgroup - au-team
- Apply
> –ï—Å–ª–∏ –≤—Ö–æ–¥ –≤ –¥–æ–º–µ–Ω –ø—Ä–æ–∏–∑–æ—à–µ–ª, —Ç–æ - –û–ö!

### BR-SRV
```bash
samba-tool group add hq
for i in $(seq 1 5); do samba-tool user add user$i.hq 'P@ssw0rd'; done
for i in $(seq 1 5); do samba-tool group addmembers hq user$i.hq; done
```
–ü—Ä–æ–≤–µ—Ä–∏–º –Ω–∞–ª–∏—á–∏–µ –≥—Ä—É–ø–ø—ã hq –≤ Samba, –∏ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
```bash
samba-tool group list
samba-tool group listmembers hq
```
```bash
admx-msi-setup
```
### HQ-CLI

**–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º –∏ –≤—Ö–æ–¥–∏–º –∫–∞–∫ Administrator**:
- –ü–∞—Ä–æ–ª—å: P@ssw0rd

**–û—Ç–∫—Ä—ã–≤–∞–µ–º —Ç–µ—Ä–º–∏–Ω–∞–ª**:
```bash
su -
toor
```
```bash
admx-msi-setup
```
```bash
roleadd hq wheel
```
```bash
rolelst
```
> **–ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ hq:wheel**
**–î–æ–±–∞–≤–ª—è–µ–º –≤ sudoers –¥–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏:**
```bash
mcedit /etc/sudoers
, %AU-TEAM\\hq
Cmnd_Alias	SHELLCMD = /usr/bin/id, /bin/cat, /bin/grep
SHELLCMD
```
–î–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –≥–¥–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è —ç—Ç–∏ —Å—Ç—Ä–æ–∫–∏, –∏ –∫—É–¥–∞ –∏—Ö –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å - –ø—Ä–∏–º–µ—Ä —Ç–æ–≥–æ –∫–∞–∫ —ç—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —É –º–µ–Ω—è:
```bash
## User alias specification
##
## Groups of users.  These may consist of user names, uids, Unix groups,
## or netgroups.
# User_Alias ADMINS = millert, dowdy, mikef
User_Alias WHEEL_USERS = %wheel, AU-TEAM\\hq # –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞
User_Alias XGRP_USERS = %xgrp
# User_Alias SUDO_USERS = %sudo

##
## Runas alias specification
##
Cmnd_Alias SHELLCMD = /usr/bin/id, /bin/cat, /bin/grep # –í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞
##
## User privilege specification
##
# root ALL=(ALL:ALL) ALL

## Uncomment to allow members of group wheel to execute any command
WHEEL_USERS ALL=(ALL:ALL) SHELLCMD # –¢—Ä–µ—Ç—å—è —Å—Ç—Ä–æ–∫–∞
```
```
exit
```
**–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –≤—ã—à–ª–∏ –∏–∑ –ø–æ–¥ —Ä—É—Ç–∞, –≤—ã–ø–æ–ª–Ω—è–µ–º kinit:**
```bash
kinit
P@ssw0rd
```
```bash
admc
```
**–ù–∞—Å—Ç—Ä–æ–∏–º –≥—Ä—É–ø–ø–æ–≤—É—é –ø–æ–ª–∏—Ç–∫—É:**
- Group Policy Objects
- au-team.irpo > –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏
- Create a GPO and link to ths GPU
- –ù–∞–∑–≤–∞–Ω–∏–µ: sudoers
- –°—Ç–∞–≤–∏–º –≥–∞–ª–æ—á–∫—É –≤ –ø–æ–ª–µ enforced
- –ü—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏ –ø–æ sudoers > edit
- Machine
- Administative Templates
- Samba
- Unix Settings
- Sudo rights
- Enabled
- /usr/bin/id
- /bin/cat
- /bin/grep
- –ü—Ä–∏–º–µ–Ω—è–µ–º –∏ –≤—ã—Ö–æ–¥–∏–º –∏–∑ admc.
```bash
gpupdate -f # –ü—Ä–æ–ø–∏—Å—ã–≤–∞–µ–º 2 —Ä–∞–∑–∞ –ø–æ–¥—Ä—è–¥ —á—Ç–æ–±—ã –∫–æ–º–∞–Ω–¥–∞ —Ç–æ—á–Ω–æ –ø—Ä–∏–º–µ–Ω–∏–ª–∞—Å—å, –∏–Ω–æ–≥–¥–∞ –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å 1 —Ä–∞–∑–∞.
```
**–ó–∞—Ö–æ–¥–∏–º –∏–∑ –ø–æ–¥ user5.hq:**
- –ü–∞—Ä–æ–ª—å - P@ssw0rd

```bash
sudo id
sudo cat /root/.bashrc
sudo cat /root/.bashrc | grep root
```
> –ï—Å–ª–∏ –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è, –∑–Ω–∞—á–∏—Ç –≤—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –≤–µ—Ä–Ω–æ.

### BR-SRV
```bash
apt-get update && apt-get install git -y
git clone https://github.com/meowehh/samba-import
cd samba-import/

cat before_script
sed -i -e 's/\r$//' import.sh

chmod +x import.sh 
./import.sh /opt/users.csv
```
> –ñ–¥–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–ø—Ç–∞, –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∑–∞—Ö–æ–¥–∏–º –Ω–∞ HQ-CLI –∏ –ø—ã—Ç–∞–µ–º—Å—è –≤–æ–π—Ç–∏ –≤ –æ–¥–Ω—É –∏–∑ —É—á–µ—Ç–æ–∫, —Ñ–ª–∞–≥–∏ —É—á–µ—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π –ø—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–µ –Ω—É–∂–Ω–æ.

### HQ-CLI
```
login: wesley.cain 
password: P@ssw0rd1
```
> –ó–∞ –ø—Ä–∏–º–µ—Ä –≤–∑—è—Ç–∞ —ç—Ç–∞ —É—á–µ—Ç–∫–∞ –∏–∑ /opt/users.csv, –º–æ–∂–Ω–æ –≤–∑—è—Ç—å –ª—é–±—É—é –¥—Ä—É–≥—É—é, –µ—Å–ª–∏ –≤–æ–π—Ç–∏ –ø–æ–ª—É—á–∏–ª–æ—Å—å, –∑–Ω–∞—á–∏—Ç –≤—Å–µ –≤—ã–ø–æ–ª–µ–Ω–µ–Ω–æ –≤–µ—Ä–Ω–æ.


## üìã –ó–∞–¥–∞–Ω–∏–µ 2: –°–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.

**–ó–∞–¥–∞–Ω–∏–µ 2**:
- –ü—Ä–∏ –ø–æ–º–æ—â–∏ —Ç—Ä—ë—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∏—Å–∫–æ–≤, —Ä–∞–∑–º–µ—Ä–æ–º 1–ì–± –∫–∞–∂–¥—ã–π, –Ω–∞ HQ-SRV —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–π—Ç–µ –¥–∏—Å–∫–æ–≤—ã–π –º–∞—Å—Å–∏–≤ —É—Ä–æ–≤–Ω—è 0
- –ò–º—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ ‚Äì md0, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–∞—Å—Å–∏–≤–∞ —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è –≤ —Ñ–∞–π–ª–µ /etc/mdadm.conf
- –û–±–µ—Å–ø–µ—á—å—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø–∞–ø–∫—É /raid0
- –°–æ–∑–¥–∞–π—Ç–µ —Ä–∞–∑–¥–µ–ª, –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–π—Ç–µ —Ä–∞–∑–¥–µ–ª, –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ext4
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–µ—Ä–≤–µ—Ä —Å–µ—Ç–µ–≤–æ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã(nfs), –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞–ø–∫–∏ –æ–±—â–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –≤—ã–±–µ—Ä–∏—Ç–µ /raid0/nfs, –¥–æ—Å—Ç—É–ø –¥–ª—è —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏ –¥–ª—è –≤—Å–µ–π —Å–µ—Ç–∏ –≤ —Å—Ç–æ—Ä–æ–Ω—É HQ-CLI 
- –ù–∞ HQ-CLI –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø–∞–ø–∫—É /mnt/nfs
- –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–µ—Ä–≤–µ—Ä–∞ –æ—Ç–º–µ—Ç—å—Ç–µ –≤ –æ—Ç—á—ë—Ç–µ.

> –ì–æ—Ç–æ–≤—ã–π –æ—Ç—á–µ—Ç –º–æ–∂–Ω–æ –≤–∑—è—Ç—å - [—Ç—É—Ç.](./report_2025.docx)

### HQ-SRV
```bash
lsblk
mdadm -C /dev/md0 -l 0 -n 3 /dev/sd{b,c,d}
lsblk
mkfs.ext4 /dev/md0
echo DEVICE partitions >> /etc/mdadm.conf
mdadm --detail --scan >> /etc/mdadm.conf
mkdir /raid0
```
```bash
mcedit /etc/fstab
/dev/md0	/raid0 ext4 defaults	0	0
```
```bash
mount -a
df -h
```
```bash
apt-get install -y nfs-{server,utils}
mkdir /raid0/nfs
chmod 766 /raid0/nfs
```
–ö–æ–º–º–µ–Ω—Ç–∏—Ä—É–µ–º –ø–µ—Ä–≤—É—é —Å—Ç—Ä–æ–∫—É –≤ —Ñ–∞–π–ª–µ /etc/exports, –≤ —Å–∞–º–æ–º –Ω–∏–∑—É –ø—Ä–æ–ø–∏—Å—ã–≤–∞–µ–º, —Ç–æ —á—Ç–æ –∏–¥–µ—Ç –Ω–∏–∂–µ.
```
mcedit /etc/exports
/raid0/nfs 192.168.2.0/28(rw,no_subtree_check,no_root_squash)
```
**–ü—Ä–∏–º–µ–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è**:
```bash
exportfs -arv
systemctl enable --now nfs-server.service
```
### HQ-CLI
```bash
apt-get install -y nfs-{server,utils}
mkdir /mnt/nfs
chmod 777 /mnt/nfs
```
```bash
mcedit /etc/fstab
192.168.1.10:/raid0/nfs	/mnt/nfs	nfs	defaults	0	0
```
**–ú–æ–Ω—Ç–∏—Ä—É–µ–º —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É –∏ –¥–µ–ª–∞–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É RAID 0**:
```bash
mount -a
df -h
```
> ‚ö†Ô∏è üí° **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ü—Ä–æ–±—É–µ–º –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É –æ–±–æ–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º –≤—ã–≤–æ–¥ —á–µ—Ä–µ–∑ df -h —Å–Ω–æ–≤–∞, —Ä–∞—Å—à–∞—Ä–µ–Ω–Ω–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å RAID 0 - –¥–æ–ª–∂–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ–π.

## üìã –ó–∞–¥–∞–Ω–∏–µ 9: –£–¥–æ–±–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ø–Ω–¥–µ–∫—Å –ë—Ä–∞—É–∑–µ—Ä –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π –Ω–∞ HQ-CLI.

**–ó–∞–¥–∞–Ω–∏–µ 2**:
- –£—Å—Ç–∞–Ω–æ–≤–∫—É –±—Ä–∞—É–∑–µ—Ä–∞ –æ—Ç–º–µ—Ç—å—Ç–µ –≤ –æ—Ç—á—ë—Ç–µ.

> –ì–æ—Ç–æ–≤—ã–π –æ—Ç—á–µ—Ç –º–æ–∂–Ω–æ –≤–∑—è—Ç—å - [—Ç—É—Ç.](./report_2025.docx)

**–°–∞–º—ã–π –ª—É—á—à–∏–π —Å–ø–æ—Å–æ–±: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ –ø–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä.**
```bash
apt-get update && apt-get install yandex-browser -y
```
> ‚ö†Ô∏è üí° **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –æ–Ω –Ω–µ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Ä–∞–±–æ—á–µ–º —Å—Ç–æ–ª–µ, –∞ —Ç–æ–ª—å–∫–æ –≤ –ø–∞–Ω–µ–ª–∏ –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞, –ø–æ—Å–ª–µ —Ä–µ–±—É—Ç–∞ –ø–æ—è–≤–∏—Ç—Å—è –∏ –Ω–∞ —Ä–∞–±–æ—á–µ–º —Å—Ç–æ–ª–µ, –Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –µ–≥–æ –Ω–µ –Ω—É–∂–Ω–æ –¥–æ –∑–∞–¥–∞–Ω–∏—è —Å —Ä–∞–∑–≤–µ—Ä—Ç–∫–æ–π Docker, —Ç–∞–∫ –∫–∞–∫ —Ç–∞–º –æ–Ω –ø—Ä–∏–≥–æ–¥–∏—Ç—Å—è —á—Ç–æ–±—ã –æ–±–æ–π—Ç–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫—É hub.docker —á–µ—Ä–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø—Ä–æ–∫—Å–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ, –ª–∏—à–Ω–∏–π —Ä–∞–∑ –µ–≥–æ –ª—É—á—à–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞—Ç—å —Ç–∞–∫ –∫–∞–∫ –Ω–∞ HQ-CLI –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ–≥–æ 1.5–ì–ë –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏, –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é 1 –ì–ë, —ç—Ç–æ –º–æ–∂–µ—Ç –ø–æ–ª–æ–∂–∏—Ç—å HQ-CLI.

## üìã –ó–∞–¥–∞–Ω–∏–µ 3: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–ª—É–∂–±—É —Å–µ—Ç–µ–≤–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –±–∞–∑–µ —Å–µ—Ä–≤–∏—Å–∞ chrony

**–ó–∞–¥–∞–Ω–∏–µ 3**:
- –í –∫–∞—á–µ—Å—Ç–≤–µ —Å–µ—Ä–≤–µ—Ä–∞ –≤—ã—Å—Ç—É–ø–∞–µ—Ç HQ-RTR
- –ù–∞ HQ-RTR –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–µ—Ä–≤–µ—Ä chrony, –≤—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–∞—Ç—É–º 5
- –í –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ HQ-SRV, HQ-CLI, BR-RTR, BR-SRV

### HQ-RTR

```bash
apt-get update && apt-get install -y chrony
```
```bash
vim /etc/chrony.conf
pool 127.0.0.1 iburst prefer
hwtimestamp *
local stratum 5
allow 0/0
```
**–ó–∞–ø—É—Å—Ç–∏–º —Å–ª—É–∂–±—É –≤—Ä–µ–º–µ–Ω–∏:**
```bash
systemctl restart chronyd
systemctl enable --now chronyd
timedatectl set-timezone Asia/Novosibirsk
timedatectl set-local rtc yes
```
–í –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω–∞—Å—Ç—Ä–æ–∏–º: HQ-SRV, HQ-CLI, BR-RTR, BR-SRV, –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É –Ω—É–∂–Ω–æ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ –Ω–∏–∂–Ω–µ–π –Ω–∞ –≤—Å–µ—Ö 4-–µ—Ö –∫–ª–∏–µ–Ω—Ç–∞—Ö.
```bash
apt-get update && apt-get install -y chrony
vim /etc/chrony.conf
pool 192.168.10.1 iburst prefer
systemctl restart chronyd
systemctl enable --now chronyd
timedatectl set-timezone Asia/Novosibirsk
timedatectl set-local-rtc yes
```
> ‚ö†Ô∏è üí° **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ù–∞ HQ-CLI —É–∂–µ –±—É–¥–µ—Ç —Å–µ—Ä–≤–µ—Ä –≤—Ä–µ–º–µ–Ω–∏, –Ω—É–∂–Ω–æ –ª–∏—à—å –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π pool.

**–ü—Ä–æ–≤–µ–¥–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞—Å—Ç—Ä–æ–µ–∫, –≤ –æ—Ç–≤–µ—Ç–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä –≤—Ä–µ–º–µ–Ω–∏ —Å stratum 5, –Ω–∞ HQ-CLI –±—É–¥–µ—Ç 2 —Å–µ—Ä–≤–µ—Ä–∞ –≤—Ä–µ–º–µ–Ω–∏, —Å stratum 0 (–Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–π) –∏ —Å stratum 5 (–∞–∫—Ç–∏–≤–Ω—ã–π).**
```bash
chronyc sources
```
### HQ-RTR
```bash
chronyc clients
```
> ‚ö†Ô∏è üí° **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –í –æ—Ç–≤–µ—Ç–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—Å–µ –∫–ª–∏–µ–Ω—Ç—ã, —É –Ω–∏—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ —Ç–æ—Ç IP —á—Ç–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ, —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –≥–ª–∞–≤–Ω–æ–µ —á—Ç–æ–±—ã –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–≤–ø–∞–¥–∞–ª–æ —Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º–∏, –∞ —Ç–∞–∫ –∂–µ –Ω–∞ —Å–∞–º–∏—Ö –∫–ª–∏–µ–Ω—Ç–∞—Ö —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É chronyc sources, - –±—ã–ª —É–∫–∞–∑–∞–Ω stratum 5.

## üìã –ó–∞–¥–∞–Ω–∏–µ 4:  –°–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–π—Ç–µ ansible –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ BR-SRV

**–ó–∞–¥–∞–Ω–∏–µ 4**:
- –°—Ñ–æ—Ä–º–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è, –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –¥–æ–ª–∂–Ω—ã –≤—Ö–æ–¥–∏—Ç—å HQ-SRV, HQ-CLI, HQ-RTR –∏ BR-RTR
- –†–∞–±–æ—á–∏–π –∫–∞—Ç–∞–ª–æ–≥ ansible –¥–æ–ª–∂–µ–Ω —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å—Å—è –≤ /etc/ansible
- –í—Å–µ —É–∫–∞–∑–∞–Ω–Ω—ã–µ –º–∞—à–∏–Ω—ã –¥–æ–ª–∂–Ω—ã –±–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –∏ –æ—à–∏–±–æ–∫ –æ—Ç–≤–µ—á–∞—Ç—å pong –Ω–∞ –∫–æ–º–∞–Ω–¥—É ping –≤ ansible –ø–æ—Å–ª–∞–Ω–Ω—É—é —Å BR-SRV

### BR-SRV
```bash
apt-get update && apt-get install openssh-server ansible sshpass nano -y
```
```bash
nano /etc/ansible/hosts
[Alt]
192.168.2.1 ansible_ssh_user=net_admin ansible_ssh_pass=P@ssw0rd
192.168.1.10 ansible_ssh_user=sshuser ansible_ssh_pass=P@ssw0rd
192.168.2.10 ansible_ssh_user=sysadmin ansible_ssh_pass=P@ssw0rd
192.168.3.1 ansible_ssh_user=net_admin ansible_ssh_pass=P@ssw0rd

[Alt:vars]
ansible_port=2024
```
```bash
nano /etc/ansible/ansible.cfg
[defaults]

interpreter_python = /usr/bin/python3

# some basic default values...
# uncomment this to disable SSH key host checking
host_key_checking = False
```

### HQ-SRV
```bash
apt-get update && apt-get install openssh-server -y
```
```bash
vim /etc/openssh/sshd_config
Port 2024
MaxAuthTries 2
AllowUsers sshuser
```
```bash
systemctl enable --now sshd
systemctl restart sshd
```

### HQ-RTR –∏ BR-RTR
```bash
apt-get update && apt-get install openssh-server -y
```
```bash
vim /etc/openssh/sshd_config
Port 2024
MaxAuthTries 2
AllowUsers net_admin
```
```bash
systemctl enable --now sshd
systemctl restart sshd
```

### HQ-CLI 
```bash
apt-get update && apt-get install openssh-server -y
```
```bash
useradd sysadmin
passwd sysadmin
P@ssw0rd
usermod -a -G remote sysadmin
```
```bash
vim /etc/openssh/sshd_config
Port 2024
MaxAuthTries 2
AllowGroups wheel remote
```
```bash
systemctl enable --now sshd
systemctl restart sshd
```

### BR-SRV
```bash
ansible -m ping all
```
**–í—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥—ã**:
```bash
192.168.3.1 | SUCCESS => {
    "changed": false,
    "ping": "pong"
}
192.168.2.1 | SUCCESS => {
    "changed": false,
    "ping": "pong"
}
192.168.1.10 | SUCCESS => {
    "changed": false,
    "ping": "pong"
}
192.168.2.10 | SUCCESS => {
    "changed": false,
    "ping": "pong"
}
```
> ‚ö†Ô∏è üí° **–í–∞–∂–Ω–æ**: –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ–±—ã –≤—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥—ã —Å–æ–≤–ø–∞–¥–∞–ª, –µ—Å–ª–∏ –≤—Å–µ —Å–æ–≤–ø–¥–∞–µ—Ç, –∑–Ω–∞—á–∏—Ç –∑–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –≤–µ—Ä–Ω–æ.


## üìã –ó–∞–¥–∞–Ω–∏–µ 5:  –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ Docker –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ BR-SRV.

**–ó–∞–¥–∞–Ω–∏–µ 5**: 

- –°–æ–∑–¥–∞–π—Ç–µ –≤ –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ñ–∞–π–ª wiki.yml –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è MediaWiki.
- –°—Ä–µ–¥—Å—Ç–≤–∞–º–∏ docker compose –¥–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è —Å—Ç–µ–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º MediaWiki –∏ –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–≤–∞ —Å–µ—Ä–≤–∏—Å–∞
- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä MediaWiki –¥–æ–ª–∂–µ–Ω –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è wiki –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–∑ mediawiki
- –§–∞–π–ª LocalSettings.php —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –¥–æ–º–∞—à–Ω–µ–π –ø–∞–ø–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –æ–±—Ä–∞–∑.
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –¥–æ–ª–∂–µ–Ω –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è mariadb –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–∑ mariadb.
- –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ 
- –û–Ω –¥–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞–≤–∞—Ç—å –±–∞–∑—É —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º mediawiki, –¥–æ—Å—Ç—É–ø–Ω—É—é –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É –ø–æ—Ä—Ç—É, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è wiki —Å –ø–∞—Ä–æ–ª–µ–º WikiP@ssw0rd –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö 
- MediaWiki –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω–∞ –∏–∑–≤–Ω–µ —á–µ—Ä–µ–∑ –ø–æ—Ä—Ç 8086.

### BR-SRV
```bash
apt-get update && apt-get install openssh-server docker-ce docker-compose -y
```
**–ù–∞—Å—Ç—Ä–æ–∏–º –∏ –∑–∞–ø—É—Å—Ç–∏–º SSH, - —á—Ç–æ–±—ã –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º –ø–µ—Ä–µ–±—Ä–æ—Å–∏—Ç—å —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥–∞ mediawiki —Å HQ-CLI –Ω–∞ BR-SRV**:
```bash
vim /etc/openssh/sshd_config
Port 2024
MaxAuthTries 2
AllowUsers sshuser
```
```bash
systemctl enable --now sshd
systemctl restart sshd
```
### HQ-CLI

- –ó–∞–ø—É—Å–∫–∞–µ–º –Ø–Ω–¥–µ–∫—Å –±—Ä–∞—É–∑–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ [—Ä–∞–Ω–µ–µ](https://github.com/meowehh/DemoExam_2025/blob/main/Module_2.md#-%D0%B7%D0%B0%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-9-%D1%83%D0%B4%D0%BE%D0%B1%D0%BD%D1%8B%D0%BC-%D1%81%D0%BF%D0%BE%D1%81%D0%BE%D0%B1%D0%BE%D0%BC-%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D0%B5-%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5-%D1%8F%D0%BD%D0%B4%D0%B5%D0%BA%D1%81-%D0%B1%D1%80%D0%B0%D1%83%D0%B7%D0%B5%D1%80-%D0%B4%D0%BB%D1%8F-%D0%BE%D1%80%D0%B3%D0%B0%D0%BD%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B9-%D0%BD%D0%B0-hq-cli). –ß–µ—Ä–µ–∑ Firefox –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.
- –ü–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ —Å–∞–π—Ç hub.docker.com
- –í –ø–æ–∏—Å–∫–µ –≤–±–∏–≤–∞–µ–º mediawiki
- –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å mediawiki –ª–∏—Å—Ç–∞–µ–º –≤–Ω–∏–∑ –∏ –Ω–∞—Ö–æ–¥–∏–º –∫–æ–Ω—Ñ–∏–≥ compose.yaml
- –ö–æ–ø–∏—Ä—É–µ–º –∫–æ–Ω—Ñ–∏–≥
- –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Ä–º–∏–Ω–∞–ª
```bash
su -
toor
ssh sshuser@192.168.3.10 -p 2024 # –ó–∞—Ö–æ–¥–∏–º –Ω–∞ BR-SRV
P@ssw0rd
su -
toor
mcedit wiki.yml
```
**–í—Å—Ç–∞–≤–ª—è–µ–º —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥, —Ç–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∑–∞–∫—Ä—ã—Ç—å –Ø–Ω–¥–µ–∫—Å –±—Ä–∞—É–∑–µ—Ä. –î–∞–ª–µ–µ –ø—Ä–∏–≤–æ–¥–∏–º —Ñ–∞–π–ª wiki.yml –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–∏–¥—É**
```bash
# MediaWiki with MariaDB
#
# Access via "http://localhost:8080"
services:
  wiki:
    image: mediawiki
    restart: always
    ports:
      - 8086:80
    links:
      - mariadb
    volumes:
      - images:/var/www/html/images
      # After initial setup, download LocalSettings.php to the same directory as
      # this yaml and uncomment the following line and use compose to restart
      # the mediawiki service
      # - ./LocalSettings.php:/var/www/html/LocalSettings.php
  mariadb: # <- This key defines the name of the database during setup
    image: mariadb
    restart: always
    environment:
      # @see https://phabricator.wikimedia.org/source/mediawiki/browse/master/includes
      MYSQL_DATABASE: mediawiki
      MYSQL_USER: wiki
      MYSQL_PASSWORD: WikiP@ssw0rd
      MYSQL_RANDOM_ROOT_PASSWORD: 'yes'
    volumes:
      - db:/var/lib/mysql

volumes:
  images:
  db:
```
**–ó–∞–ø—É—Å–∫–∞–µ–º docker –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–µ–º mediawiki**:
```bash
systemctl enable --now docker.service docker.socket
docker compose -f wiki.yml up -d
```
> –î–æ–∂–∏–¥–∞–µ–º—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è.

- –û—Ç–∫—Ä—ã–≤–∞–µ–º Firefox, –ø–µ—Ä–µ—Ö–æ–¥–∏–º –ø–æ 192.168.3.10:8086
- set up the wiki
- 2 —Ä–∞–∑–∞ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π.
- Database type - Mariadb
- Database host - mariadb
- Database name - mediawiki
- Databse username - wiki
- Databse password - WikiP@ssw0rd
- Use the same account as for installation
- URL host name - wiki
- Project namespace - as the wiki name: wiki
- Administation account:
- User: wiki
- Password: WikiP@ssw0rd
- Do NOT share data about this installation
- I'm bored already, just install the wiki
- –ñ–º–µ–º –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –¥–æ —Ç–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞ –∫–∞–∫ –Ω–µ —Å–∫–∞—á–∞–µ—Ç—Å—è LocalSettings.php

**–ó–∞–ø—É—Å–∫–∞–µ–º –µ—â—ë –æ–¥–∏–Ω —Ç–µ—Ä–º–∏–Ω–∞–ª:**
```bash
cd Downloads/
scp -P 2024 LocalSettings.php sshuser@192.168.3.10:/home/sshuser
yes
P@ssw0rd
```
**–û—Ç–∫—Ä—ã–≤–∞–µ–º –ø—Ä–æ—à–ª—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª –≥–¥–µ —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ SSH —Å BR-SRV:**
```bash
cd /home/sshuser
cp LocalSettings.php ~
cd ~
```
```bash
docker compose -f wiki.yml down
```
**–£–±–∏—Ä–∞–µ–º –∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–∏:**
```bash
mcedit wiki.yml
- ./LocalSettings.php:/var/www/html/LocalSettings.php
```
**–ò—â–µ–º —É–∫–∞–∑–∞–Ω–Ω—É—é —Å—Ç—Ä–æ–∫—É –∏ –º–µ–Ω—è–µ–º –µ–µ –Ω–∞ –¥–∞–Ω–Ω—É—é:**
```bash
mcedit LocalSettings.php
$wgServer = "http://192.168.3.10:8086";
```
```bash
docker compose -f wiki.yml up -d
```
> –°–∞–π—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã–≤–∞—Ç—å—Å—è –ø–æ 192.168.3.10:8086, –µ—Å–ª–∏ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∑–Ω–∞—á–∏—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤–µ—Ä–Ω–æ, –ø—Ä–æ–±—É–µ–º –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: wiki, —Å –ø–∞—Ä–æ–ª–µ–º WikiP@ssw0rd. –ï—Å–ª–∏ –ø–æ–ª—É—á–∏–ª–æ—Å—å, –∑–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –≤–µ—Ä–Ω–æ.
